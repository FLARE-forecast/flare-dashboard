{"title":"University of Western Australia","markdown":{"yaml":{"title":"University of Western Australia"},"headingText":"Most recent forecasts","containsRefs":false,"markdown":"\n\n```{r, include=FALSE}\nknitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE)\n```\n\n```{r setup}\nlibrary(ggiraph)\nlibrary(patchwork)\nlibrary(tidyverse)\nlibrary(neon4cast)\nlibrary(score4cast)\n\n\nlibrary(thematic)\nthematic_rmd(bg=\"white\", fg=\"black\", accent=\"blue\")\n\nsource(\"R/flare-plots.R\")\nsource(\"R/ignore_sigpipes.R\")\n\n\n```\n\n\nLake Alexandrina is located in South Australia and is monitored by the state water authority (SA Water). The forecasts are generated in collaboration with Matt Hipsey's research group at the University of Western Australia.\n\n::: panel-tabset\n## Lake Alexandrina\n\n```{r}\ns3_score <- arrow::s3_bucket(bucket = \"scores/parquet\", endpoint_override = \"s3.flare-forecast.org\", anonymous = TRUE)\ns3_forecast <- arrow::s3_bucket(bucket = \"forecasts/parquet\", endpoint_override = \"s3.flare-forecast.org\", anonymous = TRUE)\n  \nmost_recent <-  arrow::open_dataset(s3_score) |> \n  filter(site_id %in% c(\"ALEX\")) |> \n  summarize(max = max(reference_datetime)) |> \n  collect() |> \n  pull()\n\ndf_insitu_scores <- arrow::open_dataset(s3_score) |> \n  filter(variable == \"temperature\",\n         site_id %in% c(\"ALEX\"),\n         reference_datetime == most_recent) |> \n  dplyr::collect()\n\n```\n\nThe most recent forecast is from `r lubridate::with_tz(lubridate::as_datetime(most_recent), tzone = \"America/New_York\")` (Eastern U.S. time).\n\n```{r alex-temp}\ndf_insitu_scores_lake <- df_insitu_scores |> \n  filter(site_id == \"ALEX\")\n\nplot_temp(df_insitu_scores_lake, depths = c(0.5,5)) \n```\n\n```{r alex-mixing}\n# chance of being mixed\ntemperature_forecast <- arrow::open_dataset(s3_forecast, unify_schemas = TRUE) |> \n  filter(variable == \"temperature\",\n         site_id %in% c(\"ALEX\"),\n         reference_datetime == most_recent,\n         !is.na(prediction)) |> \n  dplyr::collect() \n\nplot_mixing(forecast_df = temperature_forecast, eval_depths = c(0.5, 5), use_density = T, threshold = 0.1)\n```\n:::\n","srcMarkdownNoYaml":"\n\n```{r, include=FALSE}\nknitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE)\n```\n\n```{r setup}\nlibrary(ggiraph)\nlibrary(patchwork)\nlibrary(tidyverse)\nlibrary(neon4cast)\nlibrary(score4cast)\n\n\nlibrary(thematic)\nthematic_rmd(bg=\"white\", fg=\"black\", accent=\"blue\")\n\nsource(\"R/flare-plots.R\")\nsource(\"R/ignore_sigpipes.R\")\n\n\n```\n\n## Most recent forecasts\n\nLake Alexandrina is located in South Australia and is monitored by the state water authority (SA Water). The forecasts are generated in collaboration with Matt Hipsey's research group at the University of Western Australia.\n\n::: panel-tabset\n## Lake Alexandrina\n\n```{r}\ns3_score <- arrow::s3_bucket(bucket = \"scores/parquet\", endpoint_override = \"s3.flare-forecast.org\", anonymous = TRUE)\ns3_forecast <- arrow::s3_bucket(bucket = \"forecasts/parquet\", endpoint_override = \"s3.flare-forecast.org\", anonymous = TRUE)\n  \nmost_recent <-  arrow::open_dataset(s3_score) |> \n  filter(site_id %in% c(\"ALEX\")) |> \n  summarize(max = max(reference_datetime)) |> \n  collect() |> \n  pull()\n\ndf_insitu_scores <- arrow::open_dataset(s3_score) |> \n  filter(variable == \"temperature\",\n         site_id %in% c(\"ALEX\"),\n         reference_datetime == most_recent) |> \n  dplyr::collect()\n\n```\n\nThe most recent forecast is from `r lubridate::with_tz(lubridate::as_datetime(most_recent), tzone = \"America/New_York\")` (Eastern U.S. time).\n\n```{r alex-temp}\ndf_insitu_scores_lake <- df_insitu_scores |> \n  filter(site_id == \"ALEX\")\n\nplot_temp(df_insitu_scores_lake, depths = c(0.5,5)) \n```\n\n```{r alex-mixing}\n# chance of being mixed\ntemperature_forecast <- arrow::open_dataset(s3_forecast, unify_schemas = TRUE) |> \n  filter(variable == \"temperature\",\n         site_id %in% c(\"ALEX\"),\n         reference_datetime == most_recent,\n         !is.na(prediction)) |> \n  dplyr::collect() \n\nplot_mixing(forecast_df = temperature_forecast, eval_depths = c(0.5, 5), use_density = T, threshold = 0.1)\n```\n:::\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"alex.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Archive","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.146","editor":"visual","theme":["yeti","custom.scss"],"title-block-style":"default","title-block-banner":"img/carvins_justwater.png","page-layout":"full","title":"University of Western Australia"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}